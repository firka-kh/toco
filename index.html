<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Добро пожаловать на портал рынка труда</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* Custom gradient background for header and hero sections */
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        /* Enhanced hover effect for cards */
        .card-hover {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-8px); /* Slightly more pronounced lift */
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); /* Larger, softer shadow */
        }
        /* Consistent spacing for sections */
        .section-spacing {
            padding: 3rem 0; /* Increased vertical padding for more breathing room */
        }
        /* Basic spinner for loading states */
        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left-color: #667eea;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Ensure canvas elements are responsive within their containers */
        .chart-container {
            position: relative;
            height: 320px; /* Fixed height for chart containers */
            width: 100%; /* Full width within parent */
        }

        /* Print-specific styles for A4 format */
        @media print {
            /* Define A4 page size and margins */
            @page {
                size: A4;
                margin: 1cm;
            }

            /* Adjust body font and color for print */
            body {
                font-size: 10pt;
                line-height: 1.5;
                color: #000;
                background-color: #fff !important; /* Ensure white background for printing */
            }

            /* Hide elements not relevant for print */
            header, nav, footer,
            .job-search-form-controls, /* Hide the job search input form controls */
            #ai-tools, /* Hide the AI tools section */
            .card-hover, /* Hide hover effects */
            button, /* Hide all buttons */
            input, select, textarea, /* Hide form inputs */
            .spinner, /* Hide loading spinners */
            .pagination, /* Hide pagination */
            #expandVideoButton, /* Hide expand button */
            #soundVisualizer /* Hide sound visualizer */
             {
                display: none !important;
            }

            /* Ensure main content sections are visible */
            section {
                display: block !important;
                padding: 0.5cm 0 !important; /* Reduce padding for print */
                background: none !important; /* Remove section backgrounds */
                box-shadow: none !important; /* Remove section shadows */
            }

            /* Adjust hero section for print */
            .gradient-bg {
                background: none !important; /* Remove gradient background for print */
                color: #000 !important; /* Change text color to black */
            }
            .gradient-bg h2, .gradient-bg p {
                color: #000 !important;
            }
            .gradient-bg .bg-opacity-20 {
                background: none !important; /* Remove background opacity */
                backdrop-filter: none !important; /* Remove backdrop blur */
                border: 1px solid #ddd; /* Add a subtle border for definition */
            }

            /* Ensure charts are visible but not interactive */
            .chart-container {
                height: auto !important; /* Auto height for print */
                width: 100% !important;
                page-break-inside: avoid; /* Avoid breaking charts across pages */
            }
            canvas {
                max-width: 100% !important;
                height: auto !important;
                background: none !important;
            }

            /* Adjust card styles for print */
            .bg-white, .bg-gray-50, .bg-blue-50, .bg-yellow-50, .bg-green-50 {
                background: #fff !important;
                box-shadow: none !important;
                border: 1px solid #eee; /* Add a subtle border for definition */
            }
            .text-white {
                color: #000 !important; /* Ensure text is black on white background */
            }

            /* Ensure text elements are black */
            h1, h2, h3, h4, p, span, li, a {
                color: #000 !important;
            }

            /* Ensure links are underlined and show href */
            a {
                text-decoration: underline;
            }
            a[href]:after {
                content: " (" attr(href) ")";
                font-size: 8pt;
            }
            /* Hide href for internal anchors */
            a[href^="#"]:after {
                content: "";
            }

            /* Force page breaks for better layout */
            .section-spacing {
                page-break-after: always;
            }
            .section-spacing:last-child {
                page-break-after: auto; /* No page break after the last section */
            }
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <header class="gradient-bg text-white shadow-lg">
        <div class="container mx-auto px-4 py-6">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <img src="https://placehold.co/40x40/ffffff/000000?text=Лого" alt="Изображение логотипа МТМЗН" class="rounded-full">
                    <div>
                        <h1 class="text-2xl font-bold">Портал рынка труда</h1>
                        <p class="text-sm opacity-90">Республика Таджикистан</p>
                    </div>
                </div>
                <nav class="hidden md:flex space-x-6">
                    <a href="#jobs" class="hover:text-yellow-300 transition-colors">Вакансии</a>
                    <a href="#statistics" class="hover:text-yellow-300 transition-colors">Статистика</a>
                    <a href="#registration" class="hover:text-yellow-300 transition-colors">Регистрация</a>
                    <a href="#programs" class="hover:text-yellow-300 transition-colors">Программы</a>
                    <a href="#education" class="hover:text-yellow-300 transition-colors">Образование</a>
                    <a href="#ai-tools" class="hover:text-yellow-300 transition-colors">ИИ Инструменты</a>
                </nav>
            </div>
        </div>
    </header>

    <section class="gradient-bg text-white py-16">
        <div class="container mx-auto px-4 text-center">
            <h2 class="text-4xl font-bold mb-6">Добро пожаловать на портал рынка труда</h2>
            <p class="text-xl mb-8 max-w-3xl mx-auto">Единая платформа для соискателей, работодателей и государственных служащих Республики Таджикистан</p>
            <div class="grid md:grid-cols-4 gap-6 mt-12">
                <div class="bg-white bg-opacity-20 rounded-lg p-6 backdrop-blur-sm">
                    <i class="fas fa-users text-3xl mb-4"></i>
                    <h3 class="text-lg font-semibold mb-2">Соискатели</h3>
                    <p class="text-sm">Поиск работы и карьерные возможности</p>
                </div>
                <div class="bg-white bg-opacity-20 rounded-lg p-6 backdrop-blur-sm">
                    <i class="fas fa-building text-3xl mb-4"></i>
                    <h3 class="text-lg font-semibold mb-2">Работодатели</h3>
                    <p class="text-sm">Размещение вакансий и поиск кадров</p>
                </div>
                <div class="bg-white bg-opacity-20 rounded-lg p-6 backdrop-blur-sm">
                    <i class="fas fa-chart-line text-3xl mb-4"></i>
                    <h3 class="text-lg font-semibold mb-2">Аналитики</h3>
                    <p class="text-sm">Статистика и анализ рынка труда</p>
                </div>
                <div class="bg-white bg-opacity-20 rounded-lg p-6 backdrop-blur-sm">
                    <i class="fas fa-shield-alt text-3xl mb-4"></i>
                    <h3 class="text-lg font-semibold mb-2">Гос. служащие</h3>
                    <p class="text-sm">Управление и мониторинг</p>
                </div>
            </div>
        </div>
    </section>

    <section id="jobs" class="section-spacing bg-white">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12 text-gray-800">Поиск вакансий</h2>
            <div class="max-w-4xl mx-auto">
                <div class="bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg p-8 text-white mb-8">
                    <div class="grid md:grid-cols-3 gap-4">
                        <div>
                            <label for="jobTitleSearch" class="block text-sm font-medium mb-2">Профессия или должность</label>
                            <input type="text" id="jobTitleSearch" placeholder="Например: программист" class="w-full px-4 py-2 rounded-lg text-gray-800">
                        </div>
                        <div>
                            <label for="regionSelect" class="block text-sm font-medium mb-2">Регион</label>
                            <select id="regionSelect" class="w-full px-4 py-2 rounded-lg text-gray-800">
                                <option>Душанбе</option>
                                <option>Худжанд</option>
                                <option>Куляб</option>
                                <option>Курган-Тюбе</option>
                                <option>ГБАО</option>
                            </select>
                        </div>
                        <div>
                            <label for="salaryInput" class="block text-sm font-medium mb-2">Зарплата от</label>
                            <input type="number" id="salaryInput" placeholder="2000" class="w-full px-4 py-2 rounded-lg text-gray-800">
                        </div>
                    </div>
                    <button class="mt-4 bg-yellow-400 text-gray-800 px-8 py-3 rounded-lg font-semibold hover:bg-yellow-300 transition-colors">
                        <i class="fas fa-search mr-2"></i>Найти вакансии
                    </button>
                </div>
                
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-white border border-gray-200 rounded-lg p-6 card-hover">
                        <div class="flex justify-between items-start mb-4">
                            <h3 class="text-xl font-semibold text-gray-800">Программист Java</h3>
                            <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm">Новая</span>
                        </div>
                        <p class="text-gray-600 mb-2"><i class="fas fa-building mr-2"></i>ТехноСофт ООО</p>
                        <p class="text-gray-600 mb-2"><i class="fas fa-map-marker-alt mr-2"></i>Душанбе</p>
                        <p class="text-gray-600 mb-4"><i class="fas fa-money-bill-wave mr-2"></i>3500-5000 сомони</p>
                        <p class="text-gray-700 mb-4">Требуется опытный Java разработчик для работы над корпоративными проектами...</p>
                        <button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors">Подробнее</button>
                    </div>
                    
                    <div class="bg-white border border-gray-200 rounded-lg p-6 card-hover">
                        <div class="flex justify-between items-start mb-4">
                            <h3 class="text-xl font-semibold text-gray-800">Менеджер по продажам</h3>
                            <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm">Актуальная</span>
                        </div>
                        <p class="text-gray-600 mb-2"><i class="fas fa-building mr-2"></i>Торговый дом "Ориёна"</p>
                        <p class="text-gray-600 mb-2"><i class="fas fa-map-marker-alt mr-2"></i>Худжанд</p>
                        <p class="text-gray-600 mb-4"><i class="fas fa-money-bill-wave mr-2"></i>2500-4000 сомони</p>
                        <p class="text-gray-700 mb-4">Ищем активного менеджера для развития продаж в северном регионе...</p>
                        <button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors">Подробнее</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="statistics" class="section-spacing bg-gray-100">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12 text-gray-800">Статистика рынка труда</h2>
            <div class="grid lg:grid-cols-2 gap-8">
                <div class="bg-white rounded-lg p-6 shadow-lg">
                    <h3 class="text-xl font-semibold mb-4 text-gray-800">Уровень безработицы по регионам</h3>
                    <div class="chart-container">
                        <canvas id="unemploymentChart"></canvas>
                    </div>
                </div>
                <div class="bg-white rounded-lg p-6 shadow-lg">
                    <h3 class="text-xl font-semibold mb-4 text-gray-800">Популярные профессии</h3>
                    <div class="chart-container">
                        <canvas id="professionsChart"></canvas>
                    </div>
                </div>
            </div>
            
            <div class="grid md:grid-cols-4 gap-6 mt-8">
                <div class="bg-white rounded-lg p-6 text-center shadow-lg card-hover">
                    <i class="fas fa-users text-4xl text-blue-500 mb-4"></i>
                    <h3 class="text-2xl font-bold text-gray-800">47,382</h3>
                    <p class="text-gray-600">Зарегистрированных соискателей</p>
                </div>
                <div class="bg-white rounded-lg p-6 text-center shadow-lg card-hover">
                    <i class="fas fa-briefcase text-4xl text-green-500 mb-4"></i>
                    <h3 class="text-2xl font-bold text-gray-800">12,456</h3>
                    <p class="text-gray-600">Активных вакансий</p>
                </div>
                <div class="bg-white rounded-lg p-6 text-center shadow-lg card-hover">
                    <i class="fas fa-handshake text-4xl text-purple-500 mb-4"></i>
                    <h3 class="text-2xl font-bold text-gray-800">8,921</h3>
                    <p class="text-gray-600">Успешных трудоустройств</p>
                </div>
                <div class="bg-white rounded-lg p-6 text-center shadow-lg card-hover">
                    <i class="fas fa-building text-4xl text-orange-500 mb-4"></i>
                    <h3 class="text-2xl font-bold text-gray-800">3,247</h3>
                    <p class="text-gray-600">Зарегистрированных работодателей</p>
                </div>
            </div>
        </div>
    </section>

    <section id="registration" class="section-spacing bg-white">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12 text-gray-800">Регистрация безработных</h2>
            <div class="max-w-4xl mx-auto">
                <div class="grid md:grid-cols-2 gap-8">
                    <div class="bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg p-8 text-white">
                        <h3 class="text-2xl font-bold mb-6">Онлайн регистрация</h3>
                        <div class="space-y-4">
                            <div class="flex items-center space-x-3">
                                <i class="fas fa-check-circle text-yellow-400"></i>
                                <span>Быстрая подача документов</span>
                            </div>
                            <div class="flex items-center space-x-3">
                                <i class="fas fa-check-circle text-yellow-400"></i>
                                <span>Автоматическое уведомление</span>
                            </div>
                            <div class="flex items-center space-x-3">
                                <i class="fas fa-check-circle text-yellow-400"></i>
                                <span>Отслеживание статуса</span>
                            </div>
                            <div class="flex items-center space-x-3">
                                <i class="fas fa-check-circle text-yellow-400"></i>
                                <span>Персональные рекомендации</span>
                            </div>
                        </div>
                        <button class="mt-6 bg-yellow-400 text-gray-800 px-6 py-3 rounded-lg font-semibold hover:bg-yellow-300 transition-colors">
                            Начать регистрацию
                        </button>
                    </div>
                    
                    <div class="space-y-6">
                        <div class="bg-gray-50 rounded-lg p-6">
                            <h4 class="text-lg font-semibold mb-4 text-gray-800">Необходимые документы</h4>
                            <ul class="space-y-2 text-gray-700">
                                <li class="flex items-center space-x-3">
                                    <i class="fas fa-file-alt text-blue-500"></i>
                                    <span>Паспорт гражданина РТ</span>
                                </li>
                                <li class="flex items-center space-x-3">
                                    <i class="fas fa-graduation-cap text-blue-500"></i>
                                    <span>Документ об образовании</span>
                                </li>
                                <li class="flex items-center space-x-3">
                                    <i class="fas fa-briefcase text-blue-500"></i>
                                    <span>Трудовая книжка (при наличии)</span>
                                </li>
                                <li class="flex items-center space-x-3">
                                    <i class="fas fa-camera text-blue-500"></i>
                                    <span>Фотография 3x4</span>
                                </li>
                            </ul>
                        </div>
                        
                        <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-6">
                            <h4 class="text-lg font-semibold mb-2 text-yellow-800">Важная информация</h4>
                            <p class="text-yellow-700">Регистрация осуществляется в течение 3 рабочих дней. После регистрации вы получите доступ к персональному кабинету и индивидуальному плану поиска работы.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="programs" class="section-spacing bg-gray-100">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12 text-gray-800">Программы трудоустройства</h2>
            <div class="grid md:grid-cols-3 gap-8">
                <div class="bg-white rounded-lg p-6 shadow-lg card-hover">
                    <div class="text-center mb-6">
                        <i class="fas fa-graduation-cap text-4xl text-blue-500 mb-4"></i>
                        <h3 class="text-xl font-semibold text-gray-800">Профессиональная переподготовка</h3>
                    </div>
                    <ul class="space-y-3 text-gray-700">
                        <li class="flex items-center space-x-2">
                            <i class="fas fa-check text-green-500"></i>
                            <span>IT технологии</span>
                        </li>
                        <li class="flex items-center space-x-2">
                            <i class="fas fa-check text-green-500"></i>
                            <span>Бухгалтерский учет</span>
                        </li>
                        <li class="flex items-center space-x-2">
                            <i class="fas fa-check text-green-500"></i>
                            <span>Туризм и гостеприимство</span>
                        </li>
                        <li class="flex items-center space-x-2">
                            <i class="fas fa-check text-green-500"></i>
                            <span>Строительные специальности</span>
                        </li>
                    </ul>
                    <button class="mt-6 w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition-colors">Подать заявку</button>
                </div>
                
                <div class="bg-white rounded-lg p-6 shadow-lg card-hover">
                    <div class="text-center mb-6">
                        <i class="fas fa-seedling text-4xl text-green-500 mb-4"></i>
                        <h3 class="text-xl font-semibold text-gray-800">Поддержка предпринимательства</h3>
                    </div>
                    <ul class="space-y-3 text-gray-700">
                        <li class="flex items-center space-x-2">
                            <i class="fas fa-check text-green-500"></i>
                            <span>Микрокредитование</span>
                        </li>
                        <li class="flex items-center space-x-2">
                            <i class="fas fa-check text-green-500"></i>
                            <span>Бизнес-консультации</span>
                        </li>
                        <li class="flex items-center space-x-2">
                            <i class="fas fa-check text-green-500"></i>
                            <span>Обучение основам бизнеса</span>
                        </li>
                        <li class="flex items-center space-x-2">
                            <i class="fas fa-check text-green-500"></i>
                            <span>Налоговые льготы</span>
                        </li>
                    </ul>
                    <button class="mt-6 w-full bg-green-500 text-white py-2 rounded-lg hover:bg-green-600 transition-colors">Узнать больше</button>
                </div>
                
                <div class="bg-white rounded-lg p-6 shadow-lg card-hover">
                    <div class="text-center mb-6">
                        <i class="fas fa-users text-4xl text-purple-500 mb-4"></i>
                        <h3 class="text-xl font-semibold text-gray-800">Молодежные программы</h3>
                    </div>
                    <ul class="space-y-3 text-gray-700">
                        <li class="flex items-center space-x-2">
                            <i class="fas fa-check text-green-500"></i>
                            <span>Стажировки в госучреждениях</span>
                        </li>
                        <li class="flex items-center space-x-2">
                            <i class="fas fa-check text-green-500"></i>
                            <span>Программы наставничества</span>
                        </li>
                        <li class="flex items-center space-x-2">
                            <i class="fas fa-check text-green-500"></i>
                            <span>Карьерное консультирование</span>
                        </li>
                        <li class="flex items-center space-x-2">
                            <i class="fas fa-check text-green-500"></i>
                            <span>Развитие soft skills</span>
                        </li>
                    </ul>
                    <button class="mt-6 w-full bg-purple-500 text-white py-2 rounded-lg hover:bg-purple-600 transition-colors">Присоединиться</button>
                </div>
            </div>
        </div>
    </section>

    <section id="education" class="section-spacing bg-white">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12 text-gray-800">Образовательные ресурсы</h2>
            <div class="max-w-6xl mx-auto">
                <div class="grid md:grid-cols-2 gap-8 mb-12">
                    <div class="bg-gradient-to-r from-indigo-500 to-purple-600 rounded-lg p-8 text-white">
                        <h3 class="text-2xl font-bold mb-4">Онлайн курсы</h3>
                        <p class="mb-6">Получите новые навыки с помощью наших бесплатных онлайн курсов, разработанных совместно с ведущими образовательными учреждениями.</p>
                        <div class="grid grid-cols-2 gap-4">
                            <div class="bg-white bg-opacity-20 rounded-lg p-4">
                                <i class="fas fa-laptop-code text-2xl mb-2"></i>
                                <p class="font-semibold">Программирование</p>
                            </div>
                            <div class="bg-white bg-opacity-20 rounded-lg p-4">
                                <i class="fas fa-language text-2xl mb-2"></i>
                                <p class="font-semibold">Языки</p>
                            </div>
                            <div class="bg-white bg-opacity-20 rounded-lg p-4">
                                <i class="fas fa-chart-bar text-2xl mb-2"></i>
                                <p class="font-semibold">Управление</p>
                            </div>
                            <div class="bg-white bg-opacity-20 rounded-lg p-4">
                                <i class="fas fa-tools text-2xl mb-2"></i>
                                <p class="font-semibold">Ремесла</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="space-y-6">
                        <div class="bg-blue-50 p-6 rounded-lg">
                            <h4 class="text-lg font-semibold mb-4 text-blue-800">Вебинары и мастер-классы</h4>
                            <div class="space-y-3">
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Как составить резюме</span>
                                    <span class="text-sm text-blue-600">15 ноября</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Подготовка к собеседованию</span>
                                    <span class="text-sm text-blue-600">22 ноября</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-700">Основы цифрового маркетинга</span>
                                    <span class="text-sm text-blue-600">29 ноября</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-green-50 p-6 rounded-lg">
                            <h4 class="text-lg font-semibold mb-4 text-green-800">Сертификационные программы</h4>
                            <p class="text-gray-700 mb-4">Получите официальные сертификаты, признаваемые работодателями по всей стране.</p>
                            <button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors">
                                Просмотреть программы
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="ai-tools" class="section-spacing bg-gray-100">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12 text-gray-800">ИИ Инструменты для рынка труда</h2>
            <div class="max-w-4xl mx-auto grid md:grid-cols-2 gap-8">
                <div class="bg-white rounded-lg p-6 shadow-lg">
                    <h3 class="text-xl font-semibold mb-4 text-gray-800">✨ Генератор описания вакансии</h3>
                    <div class="mb-4">
                        <label for="jobTitleInput" class="block text-sm font-medium text-gray-700 mb-2">Название должности</label>
                        <input type="text" id="jobTitleInput" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Например: Менеджер по продажам">
                    </div>
                    <div class="mb-4">
                        <label for="jobKeywordsInput" class="block text-sm font-medium text-gray-700 mb-2">Ключевые навыки/обязанности (через запятую)</label>
                        <textarea id="jobKeywordsInput" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Например: активные продажи, CRM, ведение переговоров"></textarea>
                    </div>
                    <button id="generateJobDescriptionBtn" class="w-full bg-blue-500 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-600 transition-colors flex items-center justify-center">
                        <span id="jobDescriptionLoading" class="hidden spinner mr-2"></span>
                        ✨ Сгенерировать описание
                    </button>
                    <div id="jobDescriptionOutput" class="mt-6 p-4 bg-blue-50 rounded-lg text-gray-800 hidden">
                        <h4 class="font-semibold mb-2">Сгенерированное описание:</h4>
                        <p class="text-sm whitespace-pre-wrap"></p>
                    </div>
                </div>

                <div class="bg-white rounded-lg p-6 shadow-lg">
                    <h3 class="text-xl font-semibold mb-4 text-gray-800">✨ Предложение карьерных путей</h3>
                    <div class="mb-4">
                        <label for="currentProfessionInput" class="block text-sm font-medium text-gray-700 mb-2">Текущая профессия</label>
                        <input type="text" id="currentProfessionInput" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="Например: Учитель">
                    </div>
                    <div class="mb-4">
                        <label for="careerInterestsInput" class="block text-sm font-medium text-gray-700 mb-2">Интересы (через запятую)</label>
                        <textarea id="careerInterestsInput" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="Например: технологии, менеджмент, творчество"></textarea>
                    </div>
                    <button id="suggestCareerPathsBtn" class="w-full bg-purple-500 text-white px-4 py-2 rounded-lg font-semibold hover:bg-purple-600 transition-colors flex items-center justify-center">
                        <span id="careerPathsLoading" class="hidden spinner mr-2"></span>
                        ✨ Предложить пути
                    </button>
                    <div id="careerPathsOutput" class="mt-6 p-4 bg-purple-50 rounded-lg text-gray-800 hidden">
                        <h4 class="font-semibold mb-2">Предложенные карьерные пути:</h4>
                        <p class="text-sm whitespace-pre-wrap"></p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="section-spacing bg-gray-100">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12 text-gray-800">Аналитические отчеты</h2>
            <div class="max-w-4xl mx-auto">
                <div class="grid md:grid-cols-2 gap-8">
                    <div class="bg-white rounded-lg p-6 shadow-lg">
                        <h3 class="text-xl font-semibold mb-4 text-gray-800">Ежемесячные отчеты</h3>
                        <div class="space-y-4">
                            <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                                <div class="flex items-center space-x-3">
                                    <i class="fas fa-file-pdf text-red-500"></i>
                                    <span class="text-gray-700">Отчет за октябрь 2024</span>
                                </div>
                                <button class="text-blue-500 hover:text-blue-600">
                                    <i class="fas fa-download"></i>
                                </button>
                            </div>
                            <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                                <div class="flex items-center space-x-3">
                                    <i class="fas fa-file-pdf text-red-500"></i>
                                    <span class="text-gray-700">Отчет за сентябрь 2024</span>
                                </div>
                                <button class="text-blue-500 hover:text-blue-600">
                                    <i class="fas fa-download"></i>
                                </button>
                            </div>
                            <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                                <div class="flex items-center space-x-3">
                                    <i class="fas fa-file-pdf text-red-500"></i>
                                    <span class="text-gray-700">Отчет за август 2024</span>
                                </div>
                                <button class="text-blue-500 hover:text-blue-600">
                                    <i class="fas fa-download"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-lg p-6 shadow-lg">
                        <h3 class="text-xl font-semibold mb-4 text-gray-800">Специальные исследования</h3>
                        <div class="space-y-4">
                            <div class="p-4 bg-blue-50 rounded-lg">
                                <h4 class="font-semibold text-blue-800 mb-2">Влияние цифровизации на рынок труда</h4>
                                <p class="text-gray-700 text-sm mb-3">Комплексное исследование изменений в структуре занятости...</p>
                                <button class="text-blue-500 hover:text-blue-600 text-sm">Читать далее <i class="fas fa-arrow-right"></i></button>
                            </div>
                            <div class="p-4 bg-green-50 rounded-lg">
                                <h4 class="font-semibold text-green-800 mb-2">Молодежь на рынке труда</h4>
                                <p class="text-gray-700 text-sm mb-3">Анализ трудоустройства выпускников учебных заведений...</p>
                                <button class="text-green-500 hover:text-green-600 text-sm">Читать далее <i class="fas fa-arrow-right"></i></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="section-spacing bg-white">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12 text-gray-800">Контактная информация</h2>
            <div class="max-w-4xl mx-auto grid md:grid-cols-2 gap-8">
                <div class="space-y-6">
                    <div class="flex items-start space-x-4">
                        <i class="fas fa-map-marker-alt text-2xl text-blue-500 mt-1"></i>
                        <div>
                            <h4 class="font-semibold text-gray-800 mb-2">Главный офис</h4>
                            <p class="text-gray-700">г. Душанбе, проспект Рудаки 105<br>Министерство труда, миграции и занятости населения РТ</p>
                        </div>
                    </div>
                    <div class="flex items-start space-x-4">
                        <i class="fas fa-phone text-2xl text-green-500 mt-1"></i>
                        <div>
                            <h4 class="font-semibold text-gray-800 mb-2">Телефоны</h4>
                            <p class="text-gray-700">Горячая линия: +992 (37) 221-00-10<br>Справочная: +992 (37) 221-00-11</p>
                        </div>
                    </div>
                    <div class="flex items-start space-x-4">
                        <i class="fas fa-envelope text-2xl text-purple-500 mt-1"></i>
                        <div>
                            <h4 class="font-semibold text-gray-800 mb-2">Электронная почта</h4>
                            <p class="text-gray-700">info@employment.tj<br>support@employment.tj</p>
                        </div>
                    </div>
                </div>
                <div class="bg-gray-50 rounded-lg p-6">
                    <h4 class="text-lg font-semibold mb-4 text-gray-800">Часы работы</h4>
                    <div class="space-y-3">
                        <div class="flex justify-between">
                            <span class="text-gray-700">Понедельник - Пятница</span>
                            <span class="text-gray-800 font-medium">08:00 - 17:00</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-700">Суббота</span>
                            <span class="text-gray-800 font-medium">09:00 - 14:00</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-700">Воскресенье</span>
                            <span class="text-gray-800 font-medium">Выходной</span>
                        </div>
                    </div>
                    <div class="mt-6 p-4 bg-blue-50 rounded-lg">
                        <p class="text-blue-800 text-sm"><i class="fas fa-info-circle mr-2"></i>Онлайн сервисы доступны 24/7</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="gradient-bg text-white py-12">
        <div class="container mx-auto px-4">
            <div class="grid md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-lg font-semibold mb-4">О портале</h3>
                    <p class="text-sm opacity-90">Официальный портал информационной системы рынка труда Республики Таджикистан</p>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Полезные ссылки</h3>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#" class="opacity-90 hover:opacity-100">Правительство РТ</a></li>
                        <li><a href="#" class="opacity-90 hover:opacity-100">Министерство труда</a></li>
                        <li><a href="#" class="opacity-90 hover:opacity-100">Налоговый комитет</a></li>
                        <li><a href="#" class="opacity-90 hover:opacity-100">Нормативные акты</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Поддержка</h3>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#" class="opacity-90 hover:opacity-100">Часто задаваемые вопросы</a></li>
                        <li><a href="#" class="opacity-90 hover:opacity-100">Руководство пользователя</a></li>
                        <li><a href="#" class="opacity-90 hover:opacity-100">Техническая поддержка</a></li>
                        <li><a href="#" class="opacity-90 hover:opacity-100">Обратная связь</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Социальные сети</h3>
                    <div class="flex space-x-4">
                        <a href="#" class="text-2xl opacity-90 hover:opacity-100"><i class="fab fa-facebook"></i></a>
                        <a href="#" class="text-2xl opacity-90 hover:opacity-100"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="opacity-90 hover:opacity-100"><i class="fab fa-telegram"></i></a>
                        <a href="#" class="text-2xl opacity-90 hover:opacity-100"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </div>
            <div class="border-t border-white border-opacity-20 mt-8 pt-8 text-center">
                <p class="text-sm opacity-90">&copy; 2024 Министерство труда, миграции и занятости населения Республики Таджикистан. Все права защищены.</p>
            </div>
        </div>
    </footer>

    <script>
        // Unemployment Chart
        const ctx1 = document.getElementById('unemploymentChart').getContext('2d');
        new Chart(ctx1, {
            type: 'bar',
            data: {
                labels: ['Душанбе', 'Худжанд', 'Куляб', 'Курган-Тюбе', 'ГБАО'],
                datasets: [{
                    label: 'Уровень безработицы (%)',
                    data: [4.2, 5.8, 7.1, 6.3, 8.9],
                    backgroundColor: 'rgba(59, 130, 246, 0.8)',
                    borderColor: 'rgba(59, 130, 246, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false, // Important: allows chart to resize without maintaining original aspect ratio
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 10
                    }
                },
                plugins: {
                    legend: {
                        display: true,
                        position: 'top',
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return context.dataset.label + ': ' + context.parsed.y + '%';
                            }
                        }
                    }
                }
            }
        });

        // Professions Chart
        const ctx2 = document.getElementById('professionsChart').getContext('2d');
        new Chart(ctx2, {
            type: 'doughnut',
            data: {
                labels: ['IT', 'Строительство', 'Торговля', 'Образование', 'Здравоохранение', 'Другие'],
                datasets: [{
                    data: [18, 22, 25, 12, 8, 15],
                    backgroundColor: [
                        '#3B82F6', // Blue
                        '#10B981', // Green
                        '#F59E0B', // Amber
                        '#EF4444', // Red
                        '#8B5CF6', // Purple
                        '#6B7280'  // Gray
                    ],
                    borderColor: '#ffffff', // White border for segments
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false, // Important: allows chart to resize without maintaining original aspect ratio
                plugins: {
                    legend: {
                        position: 'right', // Position legend to the right for better space utilization
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                let label = context.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                if (context.parsed !== null) {
                                    label += context.parsed + '%';
                                }
                                return label;
                            }
                        }
                    }
                }
            }
        });

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault(); // Prevent default anchor click behavior
                const target = document.querySelector(this.getAttribute('href')); // Get the target element
                if (target) {
                    target.scrollIntoView({ // Scroll to the target with smooth animation
                        behavior: 'smooth'
                    });
                }
            });
        });

        // Gemini API Integration (for AI Tools section)
        document.addEventListener('DOMContentLoaded', () => {
            const generateJobDescriptionBtn = document.getElementById('generateJobDescriptionBtn');
            const jobTitleInput = document.getElementById('jobTitleInput');
            const jobKeywordsInput = document.getElementById('jobKeywordsInput');
            const jobDescriptionOutput = document.getElementById('jobDescriptionOutput');
            const jobDescriptionLoading = document.getElementById('jobDescriptionLoading');

            const suggestCareerPathsBtn = document.getElementById('suggestCareerPathsBtn');
            const currentProfessionInput = document.getElementById('currentProfessionInput');
            const careerInterestsInput = document.getElementById('careerInterestsInput');
            const careerPathsOutput = document.getElementById('careerPathsOutput');
            const careerPathsLoading = document.getElementById('careerPathsLoading');

            // Function to call Gemini API
            async function callGeminiAPI(prompt, loadingElement, outputElement) {
                loadingElement.classList.remove('hidden'); // Show spinner
                outputElement.classList.add('hidden'); // Hide previous output
                outputElement.querySelector('p').textContent = ''; // Clear previous text

                try {
                    let chatHistory = [];
                    chatHistory.push({ role: "user", parts: [{ text: prompt }] });
                    const payload = { contents: chatHistory };
                    const apiKey = ""; // Leave as empty string for Canvas environment
                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    const result = await response.json();
                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        const text = result.candidates[0].content.parts[0].text;
                        outputElement.querySelector('p').textContent = text;
                        outputElement.classList.remove('hidden'); // Show new output
                    } else {
                        outputElement.querySelector('p').textContent = 'Не удалось сгенерировать ответ. Попробуйте еще раз.';
                        outputElement.classList.remove('hidden');
                    }
                } catch (error) {
                    console.error('Ошибка при вызове Gemini API:', error);
                    outputElement.querySelector('p').textContent = 'Произошла ошибка при запросе. Пожалуйста, проверьте консоль.';
                    outputElement.classList.remove('hidden');
                } finally {
                    loadingElement.classList.add('hidden'); // Hide spinner
                }
            }

            // Event listener for Job Description Generator
            if (generateJobDescriptionBtn) { // Check if element exists (only on AI Tools section)
                generateJobDescriptionBtn.addEventListener('click', () => {
                    const jobTitle = jobTitleInput.value.trim();
                    const jobKeywords = jobKeywordsInput.value.trim();

                    if (!jobTitle) {
                        jobDescriptionOutput.querySelector('p').textContent = 'Пожалуйста, введите название должности.';
                        jobDescriptionOutput.classList.remove('hidden');
                        return;
                    }

                    const prompt = `Сгенерируйте подробное описание вакансии для должности "${jobTitle}". Включите следующие ключевые навыки и обязанности: ${jobKeywords || 'общие обязанности для этой роли'}. Описание должно быть на русском языке и подходить для портала по трудоустройству в Таджикистане.`;
                    callGeminiAPI(prompt, jobDescriptionLoading, jobDescriptionOutput);
                });
            }

            // Event listener for Career Path Suggestion
            if (suggestCareerPathsBtn) { // Check if element exists (only on AI Tools section)
                suggestCareerPathsBtn.addEventListener('click', () => {
                    const currentProfession = currentProfessionInput.value.trim();
                    const careerInterests = careerInterestsInput.value.trim();

                    if (!currentProfession) {
                        careerPathsOutput.querySelector('p').textContent = 'Пожалуйста, введите вашу текущую профессию.';
                        careerPathsOutput.classList.remove('hidden');
                        return;
                    }

                    const prompt = `Предложите 3-5 возможных карьерных путей для человека с профессией "${currentProfession}". Учитывайте следующие интересы: ${careerInterests || 'общие интересы'}. Для каждого пути укажите несколько ключевых навыков, которые необходимо развить. Ответ должен быть на русском языке в виде маркированного списка.`;
                    callGeminiAPI(prompt, careerPathsLoading, careerPathsOutput);
                });
            }
        });
    </script>
</body>
</html>
